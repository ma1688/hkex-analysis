# æ¸¯è‚¡å…¬å‘Šæ™ºèƒ½é—®ç­”ç³»ç»Ÿ - å®Œæ•´æ¶æ„å›¾ V2.0

> æ›´æ–°æ—¥æœŸï¼š2025-10-29
> ç‰ˆæœ¬ï¼šV2.0ï¼ˆé…ç½®é©±åŠ¨ + æ€§èƒ½ä¼˜åŒ–ç‰ˆï¼‰

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ç”¨æˆ·äº¤äº’å±‚ (User Interface)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CLI v2 (æ¨è)          â”‚  API REST              â”‚  CLI v1 (æ—§ç‰ˆ)           â”‚
â”‚  - askå‘½ä»¤              â”‚  - POST /api/v1/ask    â”‚  - å·²å¤‡ä»½                â”‚
â”‚  - chatå‘½ä»¤             â”‚  - GET /health         â”‚  - commands.py.backup    â”‚
â”‚  - tools-list           â”‚  - WebSocketæ”¯æŒ       â”‚                          â”‚
â”‚  - configæŸ¥çœ‹           â”‚                        â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                       â”‚
               â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Agentç¼–æ’å±‚ (Agent Orchestration)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚              Supervisor (LangGraphçŠ¶æ€æœº)                     â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚           â”‚
â”‚  â”‚  â”‚ Planner  â”‚â†’ â”‚ Document â”‚â†’ â”‚Reflector â”‚â†’ â”‚ Context  â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ ä»»åŠ¡è§„åˆ’  â”‚  â”‚  Agent   â”‚  â”‚ è´¨é‡è¯„ä¼°  â”‚  â”‚ ä¸Šä¸‹æ–‡   â”‚    â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  æ‰§è¡Œ     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ æ³¨å…¥å™¨   â”‚    â”‚           â”‚
â”‚  â”‚      â†“         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â†“         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚           â”‚
â”‚  â”‚  â”‚        State Management (çŠ¶æ€ç®¡ç†)                    â”‚   â”‚           â”‚
â”‚  â”‚  â”‚  - query, plan, results, reflection                  â”‚   â”‚           â”‚
â”‚  â”‚  â”‚  - conversation_history, user_profile                â”‚   â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                               â”‚
â”‚  é…ç½®æ–‡ä»¶:                                                                    â”‚
â”‚  â€¢ config/agents.yaml - Agentè¡Œä¸ºé…ç½®                                        â”‚
â”‚  â€¢ config/agent_optimization.yaml - æ€§èƒ½ä¼˜åŒ–é…ç½®                             â”‚
â”‚  â€¢ config/prompts/prompts.yaml - ç³»ç»Ÿæç¤ºè¯                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å·¥å…·å±‚ (Tools Layer)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Layer 1: åŸºç¡€æ£€ç´¢å±‚ (ä¼˜å…ˆä½¿ç”¨ï¼Œé€Ÿåº¦å¿«)                                â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  ç»“æ„åŒ–æ•°æ®å·¥å…·                      â”‚  æ–‡æ¡£å…ƒä¿¡æ¯å·¥å…·                 â”‚   â”‚
â”‚  â”‚  â€¢ query_placing_data (é…å”®)        â”‚  â€¢ search_documents            â”‚   â”‚
â”‚  â”‚  â€¢ query_ipo_data (IPO)             â”‚    (æœç´¢å…¬å‘Šå…ƒä¿¡æ¯)             â”‚   â”‚
â”‚  â”‚  â€¢ query_rights_data (ä¾›è‚¡)         â”‚                                â”‚   â”‚
â”‚  â”‚  â€¢ query_consolidation_data (åˆè‚¡)  â”‚                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Layer 2: å†…å®¹è·å–å±‚ (éœ€è¦åŸæ–‡æ—¶ä½¿ç”¨)                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ retrieve_chunks - è·å–å…¬å‘Šè¯¦ç»†å†…å®¹å—                               â”‚   â”‚
â”‚  â”‚    (æ”¯æŒdoc_idã€stock_codeã€keywordä¸‰ç§æ£€ç´¢æ–¹å¼)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Layer 3: åˆ†æå¤„ç†å±‚ (æ·±åº¦åˆ†æ)                                        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ synthesize_chunks - åˆæˆå¤šä¸ªchunksä¸ºè¿è´¯æ–‡æœ¬                       â”‚   â”‚
â”‚  â”‚  â€¢ extract_key_info - ä»æ–‡æœ¬æå–ç»“æ„åŒ–ä¿¡æ¯                            â”‚   â”‚
â”‚  â”‚  â€¢ compare_data - å¯¹æ¯”ä¸¤ç»„æ•°æ®                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Layer 4: è¾…åŠ©å·¥å…·å±‚                                                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  æ—¶é—´æ„ŸçŸ¥: get_current_time, get_market_time, calculate_time_diff    â”‚   â”‚
â”‚  â”‚  æ•°æ®å¢å¼º: enhance_market_data, get_real_time_stock_info             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  é…ç½®æ–‡ä»¶:                                                                    â”‚
â”‚  â€¢ config/tools.yaml - å·¥å…·æ‰§è¡Œé…ç½®                                          â”‚
â”‚  â€¢ src/tools/loader.py - å·¥å…·è‡ªåŠ¨åŠ è½½å™¨                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å±‚ (Data Layer)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      V1.0 æ•°æ®è¡¨ï¼ˆç°æœ‰ï¼‰         â”‚  â”‚      V2.0 æ•°æ®è¡¨ï¼ˆæ–°å¢ï¼‰         â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  â€¢ pdf_documents               â”‚  â”‚  â€¢ documents_v2                â”‚    â”‚
â”‚  â”‚    (æ–‡æ¡£å…ƒä¿¡æ¯)                  â”‚  â”‚    (æ”¯æŒdocument_type)         â”‚    â”‚
â”‚  â”‚  â€¢ pdf_chunks                  â”‚  â”‚  â€¢ document_sections           â”‚    â”‚
â”‚  â”‚    (å›ºå®šå¤§å°åˆ‡å—)                â”‚  â”‚    (ç« èŠ‚çº§åˆ«ï¼Œæ”¯æŒsection_type) â”‚    â”‚
â”‚  â”‚                                 â”‚  â”‚  â€¢ section_entities            â”‚    â”‚
â”‚  â”‚  â€¢ ipo_data                    â”‚  â”‚    (å®ä½“æå–ï¼Œå¯é€‰)             â”‚    â”‚
â”‚  â”‚  â€¢ placing_data                â”‚  â”‚                                â”‚    â”‚
â”‚  â”‚  â€¢ rights_data                 â”‚  â”‚  **å®Œå…¨ç‹¬ç«‹ï¼Œä¸å½±å“V1.0**       â”‚    â”‚
â”‚  â”‚  â€¢ consolidation_data          â”‚  â”‚                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                               â”‚
â”‚  æ•°æ®åº“: ClickHouse 23.8.16.16                                               â”‚
â”‚  é…ç½®: src/utils/clickhouse.py                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ–‡æ¡£å¤„ç†æµæ°´çº¿ (Document Pipeline)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  V1.0 æµæ°´çº¿ (ç°æœ‰ç³»ç»Ÿ)                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚  â”‚ PDF  â”‚â†’ â”‚ å›ºå®šåˆ‡å—  â”‚â†’ â”‚ å‘é‡åŒ–   â”‚â†’ pdf_chunks                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚                                                                               â”‚
â”‚  V2.0 æµæ°´çº¿ (é…ç½®é©±åŠ¨) â­                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ PDF  â”‚â†’ â”‚ æ–‡æ¡£ç±»å‹æ£€æµ‹  â”‚â†’ â”‚ ç« èŠ‚è¯†åˆ«åˆ‡åˆ†  â”‚â†’ â”‚ V2.0ç‹¬ç«‹è¡¨   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚      â”‚           â”‚                   â”‚                                       â”‚
â”‚      â”‚           â–¼                   â–¼                                       â”‚
â”‚      â”‚     DocumentType        ChapterProcessor                              â”‚
â”‚      â”‚     Detector            (LLMè¯­ä¹‰+å…³é”®è¯)                              â”‚
â”‚      â”‚     (å…³é”®è¯åŒ¹é…)                                                       â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â””â”€â†’ é…ç½®æ–‡ä»¶é©±åŠ¨:                                                       â”‚
â”‚           â€¢ config/document_types/rights_issue.yaml (ä¾›è‚¡-17ç§ç« èŠ‚)          â”‚
â”‚           â€¢ config/document_types/placing.yaml (é…å”®-20ç§ç« èŠ‚)               â”‚
â”‚           â€¢ å¯æ‰©å±•: ipo.yaml, financial_report.yaml, mna.yaml               â”‚
â”‚                                                                               â”‚
â”‚  æ ¸å¿ƒæ¨¡å—:                                                                    â”‚
â”‚  â€¢ src/pipeline/document_type_detector.py - æ–‡æ¡£ç±»å‹æ£€æµ‹                     â”‚
â”‚  â€¢ src/pipeline/chapter_processor.py - ç« èŠ‚è¯†åˆ«ä¸åˆ‡åˆ†                        â”‚
â”‚  â€¢ src/pipeline/section_storage_v2.py - V2.0å­˜å‚¨æ¥å£                         â”‚
â”‚  â€¢ src/pipeline/document_retrieval_v2.py - V2.0æ£€ç´¢æ¥å£                      â”‚
â”‚  â€¢ src/pipeline/pdf_pipeline_v2.py - å®Œæ•´æµæ°´çº¿                              â”‚
â”‚  â€¢ src/pipeline/batch_processor.py - å¼‚æ­¥æ‰¹é‡å¤„ç†                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LLMç®¡ç†å±‚ (LLM Management)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                    LLMManager (ç»Ÿä¸€æ¥å£)                          â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚  â€¢ ä¸»æä¾›å•†: ç¡…åŸºæµåŠ¨ (SiliconFlow)                               â”‚      â”‚
â”‚  â”‚    - FAST_MODEL: deepseek-chat                                   â”‚      â”‚
â”‚  â”‚    - STRONG_MODEL: deepseek-reasoner                             â”‚      â”‚
â”‚  â”‚                                                                   â”‚      â”‚
â”‚  â”‚  â€¢ å¤‡ç”¨æä¾›å•†: OpenAI                                             â”‚      â”‚
â”‚  â”‚    - gpt-4o-mini                                                 â”‚      â”‚
â”‚  â”‚    - gpt-4o                                                      â”‚      â”‚
â”‚  â”‚                                                                   â”‚      â”‚
â”‚  â”‚  åŠŸèƒ½:                                                            â”‚      â”‚
â”‚  â”‚  âœ“ è‡ªåŠ¨ä¸»å¤‡åˆ‡æ¢ (ä¸»æŒ‚â†’å¤‡)                                         â”‚      â”‚
â”‚  â”‚  âœ“ è®¡è´¹è¿½è¸ª                                                       â”‚      â”‚
â”‚  â”‚  âœ“ é”™è¯¯é‡è¯•                                                       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                               â”‚
â”‚  é…ç½®: src/llm/manager.py                                                    â”‚
â”‚  ç¯å¢ƒå˜é‡: SILICONFLOW_API_KEY, OPENAI_API_KEY                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è®°å¿†ä¸å­¦ä¹ å±‚ (Memory & Learning)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  çŸ­æœŸè®°å¿† (Short-term)â”‚  â”‚  é•¿æœŸè®°å¿† (Long-term) â”‚  â”‚  ç»éªŒå­¦ä¹        â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  â€¢ å¯¹è¯å†å²           â”‚  â”‚  â€¢ ç”¨æˆ·ç”»åƒ           â”‚  â”‚  â€¢ æˆåŠŸæ¡ˆä¾‹åº“   â”‚  â”‚
â”‚  â”‚  â€¢ ä¸Šä¸‹æ–‡çª—å£         â”‚  â”‚  â€¢ çŸ¥è¯†æå–           â”‚  â”‚  â€¢ å¤±è´¥æ¡ˆä¾‹åº“   â”‚  â”‚
â”‚  â”‚  â€¢ æœ€è¿‘Næ¡æ¶ˆæ¯        â”‚  â”‚  â€¢ æŒä¹…åŒ–å­˜å‚¨         â”‚  â”‚  â€¢ æœ€ä½³å®è·µæå– â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                               â”‚
â”‚  5å±‚ä¸Šä¸‹æ–‡æ„å»º:                                                               â”‚
â”‚  Layer 1: å¯¹è¯å†å² â†’ Layer 2: ç”¨æˆ·ç”»åƒ â†’ Layer 3: é¢†åŸŸçŸ¥è¯†                   â”‚
â”‚  â†’ Layer 4: ç›¸å…³æ€§ â†’ Layer 5: å†å²ç»éªŒ â­                                    â”‚
â”‚                                                                               â”‚
â”‚  é…ç½®: config/agents.yaml (memory, context, experience)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä¼˜åŒ–ç»„ä»¶ (Optimization Components)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  å·¥å…·éªŒè¯å™¨     â”‚  â”‚  åŠ¨æ€è§„åˆ’å™¨     â”‚  â”‚  æ‰§è¡Œç›‘æ§å™¨     â”‚               â”‚
â”‚  â”‚ ToolValidator  â”‚  â”‚ DynamicPlanner â”‚  â”‚ExecutionMonitorâ”‚               â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚  â”‚ â€¢ å‚æ•°éªŒè¯      â”‚  â”‚ â€¢ è®¡åˆ’è°ƒæ•´      â”‚  â”‚ â€¢ è´¨é‡è¿½è¸ª      â”‚               â”‚
â”‚  â”‚ â€¢ æ ¼å¼è½¬æ¢      â”‚  â”‚ â€¢ é”™è¯¯æ¢å¤      â”‚  â”‚ â€¢ æ€§èƒ½åˆ†æ      â”‚               â”‚
â”‚  â”‚ â€¢ è‡ªåŠ¨ä¿®æ­£      â”‚  â”‚ â€¢ å·¥å…·fallback  â”‚  â”‚ â€¢ æŠ¥å‘Šç”Ÿæˆ      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                               â”‚
â”‚  æ ¸å¿ƒä¼˜åŒ– (2025-10-29):                                                      â”‚
â”‚  â€¢ åæ€å¾ªç¯: 3æ¬¡ â†’ 1æ¬¡ (å‡å°‘66%)                                             â”‚
â”‚  â€¢ è´¨é‡é˜ˆå€¼: 0.8 â†’ 0.7 (æ›´å®¹æ˜“é€šè¿‡)                                          â”‚
â”‚  â€¢ é‡è¯•æ¬¡æ•°: 2æ¬¡ â†’ 1æ¬¡ (å‡å°‘50%)                                             â”‚
â”‚  â€¢ è§„åˆ’å¤æ‚åº¦: complex â†’ moderate                                            â”‚
â”‚  â€¢ è¶…æ—¶ç¼©çŸ­: 25-50%                                                          â”‚
â”‚  â€¢ æç¤ºè¯å¿«é€Ÿå“åº”ç­–ç•¥                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ•°æ®æµç¤ºæ„å›¾

### å…¸å‹æŸ¥è¯¢æµç¨‹ï¼ˆæ··åˆæŸ¥è¯¢ï¼‰

```
ç”¨æˆ·: "00328æœ€æ–°ä¾›è‚¡å…¬å‘Šå†…å®¹æ‘˜è¦"
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. CLIæ¥æ”¶æŸ¥è¯¢           â”‚
â”‚    ask "00328æœ€æ–°ä¾›è‚¡..." â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Supervisorå¯åŠ¨                    â”‚
â”‚    â€¢ åˆå§‹åŒ–State                     â”‚
â”‚    â€¢ åŠ è½½ä¸Šä¸‹æ–‡(5å±‚)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Plannerè§„åˆ’ (å¿«é€Ÿæ¨¡å¼âš¡)          â”‚
â”‚    è¯†åˆ«: æ··åˆæŸ¥è¯¢                     â”‚
â”‚    æ­¥éª¤:                              â”‚
â”‚    1ï¸âƒ£ get_current_time              â”‚
â”‚    2ï¸âƒ£ query_rights_data (ç»“æ„åŒ–)    â”‚
â”‚    3ï¸âƒ£ search_documents (è·å–doc_id) â”‚
â”‚    4ï¸âƒ£ retrieve_chunks (åŸæ–‡)        â”‚
â”‚    5ï¸âƒ£ synthesize_chunks (æ‘˜è¦)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Document Agentæ‰§è¡Œ                â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚ æ­¥éª¤1: get_current_time   â”‚   â”‚
â”‚    â”‚  â†’ 2025-10-29 14:30      â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â–¼                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚ æ­¥éª¤2: query_rights_data  â”‚   â”‚
â”‚    â”‚  (00328.hk â†’ 00328.hk)   â”‚   â”‚
â”‚    â”‚  â†’ ä¾›è‚¡ä»·: 3.24æ¸¯å…ƒ       â”‚   â”‚
â”‚    â”‚  â†’ ä¾›è‚¡æ¯”ä¾‹: 1:4          â”‚   â”‚
â”‚    â”‚  â†’ æ—¥æœŸ: 2025-07-08       â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â–¼                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚ æ­¥éª¤3: search_documents   â”‚   â”‚
â”‚    â”‚  (00328.hk â†’ 00328)      â”‚   â”‚
â”‚    â”‚  â†’ doc_id: doc_196b...   â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â–¼                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚ æ­¥éª¤4: retrieve_chunks    â”‚   â”‚
â”‚    â”‚  â†’ 30ä¸ªå†…å®¹å—             â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â–¼                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚ æ­¥éª¤5: synthesize_chunks  â”‚   â”‚
â”‚    â”‚  â†’ è¿è´¯æ‘˜è¦               â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Reflectorè¯„ä¼° (å¿«é€Ÿæ¨¡å¼âš¡)        â”‚
â”‚    â€¢ å®Œæ•´æ€§: 0.9                     â”‚
â”‚    â€¢ å‡†ç¡®æ€§: 0.85                    â”‚
â”‚    â€¢ ä¸€è‡´æ€§: 0.9                     â”‚
â”‚    â€¢ ç»¼åˆè´¨é‡åˆ†æ•°: 0.88              â”‚
â”‚    âœ… â‰¥ 0.7 é€šè¿‡ï¼                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. è¿”å›æœ€ç»ˆç»“æœ                      â”‚
â”‚    âœ“ ç»“æ„åŒ–æ•°æ® (ä¾›è‚¡ä»·ã€æ¯”ä¾‹)       â”‚
â”‚    âœ“ åŸæ–‡æ‘˜è¦ (èƒŒæ™¯ã€èµ„é‡‘ç”¨é€”)       â”‚
â”‚    âœ“ æ—¶é—´è¡¨ (è®¤è´­æœŸã€é™¤æƒæ—¥)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ é…ç½®æ–‡ä»¶ä½“ç³»

```
config/
â”œâ”€â”€ agents.yaml                    # Agentè¡Œä¸ºé…ç½®
â”‚   â”œâ”€â”€ supervisor (ç›‘ç£å™¨)
â”‚   â”‚   â”œâ”€â”€ max_reflection_iterations: 1 âš¡
â”‚   â”‚   â”œâ”€â”€ planning_timeout: 30s âš¡
â”‚   â”‚   â””â”€â”€ reflection_threshold: 0.7 âš¡
â”‚   â”œâ”€â”€ sub_agents (å­Agent)
â”‚   â”‚   â”œâ”€â”€ document (å¯ç”¨)
â”‚   â”‚   â”œâ”€â”€ market (é¢„ç•™)
â”‚   â”‚   â”œâ”€â”€ financial (é¢„ç•™)
â”‚   â”‚   â””â”€â”€ news (é¢„ç•™)
â”‚   â”œâ”€â”€ memory (è®°å¿†é…ç½®)
â”‚   â”‚   â”œâ”€â”€ short_term
â”‚   â”‚   â”œâ”€â”€ long_term
â”‚   â”‚   â””â”€â”€ experience â­
â”‚   â””â”€â”€ context (ä¸Šä¸‹æ–‡é…ç½®)
â”‚       â””â”€â”€ 5å±‚ä¸Šä¸‹æ–‡æ„å»º
â”‚
â”œâ”€â”€ agent_optimization.yaml        # ä¼˜åŒ–é…ç½®
â”‚   â”œâ”€â”€ tool_validation (å·¥å…·éªŒè¯)
â”‚   â”œâ”€â”€ dynamic_planning (åŠ¨æ€è§„åˆ’)
â”‚   â”‚   â””â”€â”€ max_plan_complexity: moderate âš¡
â”‚   â”œâ”€â”€ execution_monitoring (æ‰§è¡Œç›‘æ§)
â”‚   â”œâ”€â”€ error_recovery (é”™è¯¯æ¢å¤)
â”‚   â”‚   â””â”€â”€ max_retries: 1 âš¡
â”‚   â””â”€â”€ performance (æ€§èƒ½ä¼˜åŒ–)
â”‚       â””â”€â”€ timeout: 45s total, 15s per tool âš¡
â”‚
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ prompts.yaml               # æç¤ºè¯é…ç½® â­
â”‚       â”œâ”€â”€ planner_system_prompt
â”‚       â”‚   â””â”€â”€ âš¡ å¿«é€Ÿå“åº”ä¼˜å…ˆ
â”‚       â”œâ”€â”€ document_agent_system_prompt
â”‚       â”‚   â”œâ”€â”€ 4å±‚å·¥å…·ä½“ç³»
â”‚       â”‚   â”œâ”€â”€ å†³ç­–æ ‘
â”‚       â”‚   â”œâ”€â”€ Few-Shotç¤ºä¾‹
â”‚       â”‚   â””â”€â”€ âš¡ å¿«é€Ÿå“åº”åŸåˆ™
â”‚       â””â”€â”€ reflector_system_prompt
â”‚           â””â”€â”€ âš¡ å¿«é€Ÿè¯„ä¼°åŸåˆ™ (é˜ˆå€¼0.7)
â”‚
â”œâ”€â”€ tools.yaml                     # å·¥å…·é…ç½®
â”‚   â”œâ”€â”€ custom_tools (è‡ªå®šä¹‰å·¥å…·)
â”‚   â”œâ”€â”€ tool_execution
â”‚   â”‚   â”œâ”€â”€ max_retries: 1 âš¡
â”‚   â”‚   â””â”€â”€ retry_delay: 0.5s âš¡
â”‚   â””â”€â”€ database_tools (ç¼“å­˜é…ç½®)
â”‚
â””â”€â”€ document_types/                # V2.0æ–‡æ¡£ç±»å‹é…ç½® â­
    â”œâ”€â”€ rights_issue.yaml          # ä¾›è‚¡(17ç§ç« èŠ‚)
    â”œâ”€â”€ placing.yaml               # é…å”®(20ç§ç« èŠ‚)
    â”œâ”€â”€ ipo.yaml                   # IPO(æœªæ¥)
    â”œâ”€â”€ financial_report.yaml      # è´¢æŠ¥(æœªæ¥)
    â””â”€â”€ mna.yaml                   # æ”¶è´­(æœªæ¥)
```

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–æ€»ç»“ (2025-10-29)

| ä¼˜åŒ–é¡¹ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|--------|-------|--------|------|
| åæ€å¾ªç¯ | 3æ¬¡ | 1æ¬¡ | 66% â¬‡ï¸ |
| è´¨é‡é˜ˆå€¼ | 0.8 | 0.7 | é€šè¿‡ç‡â¬†ï¸ |
| é‡è¯•æ¬¡æ•° | 2æ¬¡ | 1æ¬¡ | 50% â¬‡ï¸ |
| è§„åˆ’è¶…æ—¶ | 60s | 30s | 50% â¬‡ï¸ |
| æ€»è¶…æ—¶ | 60s | 45s | 25% â¬‡ï¸ |
| å·¥å…·è¶…æ—¶ | 30s | 15s | 50% â¬‡ï¸ |

**é¢„æœŸæ•ˆæœ**ï¼š
- ç®€å•æŸ¥è¯¢ï¼š15ç§’ â†’ **5-8ç§’** (60-70%æå‡)
- å¤æ‚æŸ¥è¯¢ï¼š50ç§’ â†’ **25-40ç§’** (30-40%æå‡)

---

## ğŸ“ˆ ç³»ç»Ÿç‰¹æ€§æ€»è§ˆ

### V1.0 ç‰¹æ€§ (ç°æœ‰)
- âœ… å›ºå®šå¤§å°æ–‡æ¡£åˆ‡å—
- âœ… ç»“æ„åŒ–æ•°æ®æŸ¥è¯¢ (IPO/é…å”®/ä¾›è‚¡/åˆè‚¡)
- âœ… æ–‡æ¡£æ£€ç´¢ä¸åˆæˆ
- âœ… LangGraphå¤šAgentç¼–æ’
- âœ… ä¸»å¤‡LLMè‡ªåŠ¨åˆ‡æ¢
- âœ… CLIå‘½ä»¤è¡Œå·¥å…·

### V2.0 æ–°å¢ç‰¹æ€§ â­
- âœ… **é…ç½®é©±åŠ¨æ¶æ„** - æ‰€æœ‰æç¤ºè¯ã€è¡Œä¸ºé…ç½®åŒ–
- âœ… **ç« èŠ‚çº§åˆ«åˆ‡åˆ†** - æŒ‰ä¸šåŠ¡è¯­ä¹‰åˆ‡åˆ†ï¼ˆéå›ºå®šå¤§å°ï¼‰
- âœ… **å¤šæ–‡æ¡£ç±»å‹æ”¯æŒ** - ä¾›è‚¡/é…å”®/IPOç­‰ç‹¬ç«‹é…ç½®
- âœ… **ç‹¬ç«‹æ•°æ®åº“è®¾è®¡** - å®Œå…¨éš”ç¦»ï¼Œä¸å½±å“V1.0
- âœ… **æ™ºèƒ½æ–‡æ¡£ç±»å‹æ£€æµ‹** - è‡ªåŠ¨è¯†åˆ«å…¬å‘Šç±»å‹
- âœ… **å¼‚æ­¥æ‰¹é‡å¤„ç†** - é«˜æ•ˆå¤„ç†å¤§é‡PDF
- âœ… **è®°å¿†ä¸å­¦ä¹ å¢å¼º** - 5å±‚ä¸Šä¸‹æ–‡+ç»éªŒå­¦ä¹ 
- âœ… **æ€§èƒ½ä¼˜åŒ–** - 60-70%é€Ÿåº¦æå‡

### 2025-10-29 ä¿®å¤ä¸ä¼˜åŒ– ğŸ”§
- âœ… **stock_codeæ ¼å¼å…¼å®¹** - æ™ºèƒ½å¤„ç† 00328/.hkåç¼€
- âœ… **å¿«é€Ÿå“åº”ç­–ç•¥** - æç¤ºè¯ä¼˜åŒ–ï¼Œç®€å•æŸ¥è¯¢åŠ é€Ÿ
- âœ… **é…ç½®å…¨é¢ä¼˜åŒ–** - 15é¡¹é…ç½®è°ƒä¼˜
- âœ… **å·¥å…·æ ¼å¼è½¬æ¢** - è‡ªåŠ¨é€‚é…æ•°æ®åº“æ ¼å¼å·®å¼‚

---

## ğŸ—‚ï¸ ç›®å½•ç»“æ„

```
hkex-analysis/
â”œâ”€â”€ config/                        # é…ç½®æ–‡ä»¶ï¼ˆé…ç½®é©±åŠ¨æ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ agents.yaml
â”‚   â”œâ”€â”€ agent_optimization.yaml
â”‚   â”œâ”€â”€ tools.yaml
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â””â”€â”€ prompts.yaml
â”‚   â””â”€â”€ document_types/
â”‚       â”œâ”€â”€ rights_issue.yaml
â”‚       â””â”€â”€ placing.yaml
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ agent/                     # Agentæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ supervisor.py          # LangGraphçŠ¶æ€æœº
â”‚   â”‚   â”œâ”€â”€ planner.py             # ä»»åŠ¡è§„åˆ’
â”‚   â”‚   â”œâ”€â”€ document_agent.py      # æ–‡æ¡£åˆ†æAgent
â”‚   â”‚   â”œâ”€â”€ reflector.py           # è´¨é‡è¯„ä¼°
â”‚   â”‚   â”œâ”€â”€ context_injector.py    # ä¸Šä¸‹æ–‡æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ tool_validator.py      # å·¥å…·éªŒè¯ âš¡
â”‚   â”‚   â”œâ”€â”€ dynamic_planner.py     # åŠ¨æ€è§„åˆ’ âš¡
â”‚   â”‚   â””â”€â”€ execution_monitor.py   # æ‰§è¡Œç›‘æ§ âš¡
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                       # REST API
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”‚
â”‚   â”œâ”€â”€ cli/                       # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ v2/                    # CLI v2ï¼ˆæ¨èï¼‰â­
â”‚   â”‚   â”‚   â”œâ”€â”€ commands/          # ask, chat, tools, config
â”‚   â”‚   â”‚   â”œâ”€â”€ services/          # agent_service, context_service
â”‚   â”‚   â”‚   â””â”€â”€ presenters/        # è¾“å‡ºå±•ç¤º
â”‚   â”‚   â””â”€â”€ commands.py.backup     # CLI v1å¤‡ä»½
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/                     # å·¥å…·é›†
â”‚   â”‚   â”œâ”€â”€ structured_data.py     # ç»“æ„åŒ–æ•°æ®æŸ¥è¯¢ ğŸ”§
â”‚   â”‚   â”œâ”€â”€ document_retrieval.py  # æ–‡æ¡£æ£€ç´¢ ğŸ”§
â”‚   â”‚   â”œâ”€â”€ synthesis.py           # å†…å®¹åˆæˆ
â”‚   â”‚   â”œâ”€â”€ data_enhancement.py    # æ•°æ®å¢å¼º
â”‚   â”‚   â”œâ”€â”€ time_utils.py          # æ—¶é—´å·¥å…·
â”‚   â”‚   â”œâ”€â”€ loader.py              # å·¥å…·åŠ è½½å™¨
â”‚   â”‚   â””â”€â”€ custom/                # è‡ªå®šä¹‰å·¥å…·ç›®å½•
â”‚   â”‚
â”‚   â”œâ”€â”€ pipeline/                  # V2.0æ–‡æ¡£å¤„ç†æµæ°´çº¿ â­
â”‚   â”‚   â”œâ”€â”€ document_type_detector.py
â”‚   â”‚   â”œâ”€â”€ chapter_processor.py
â”‚   â”‚   â”œâ”€â”€ section_storage_v2.py
â”‚   â”‚   â”œâ”€â”€ document_retrieval_v2.py
â”‚   â”‚   â”œâ”€â”€ pdf_pipeline_v2.py
â”‚   â”‚   â””â”€â”€ batch_processor.py
â”‚   â”‚
â”‚   â”œâ”€â”€ llm/                       # LLMç®¡ç†
â”‚   â”‚   â””â”€â”€ manager.py
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                    # é…ç½®åŠ è½½
â”‚   â”‚   â””â”€â”€ settings.py
â”‚   â”‚
â”‚   â””â”€â”€ utils/                     # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ clickhouse.py          # æ•°æ®åº“å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ prompts.py             # æç¤ºè¯åŠ è½½å™¨
â”‚       â””â”€â”€ text_cleaner.py        # æ–‡æœ¬æ¸…ç†
â”‚
â”œâ”€â”€ tests/                         # æµ‹è¯•
â”‚   â”œâ”€â”€ test_v2_integration.py     # V2.0é›†æˆæµ‹è¯• âœ…
â”‚   â”œâ”€â”€ test_batch_processing.py   # æ‰¹é‡å¤„ç†æµ‹è¯•
â”‚   â””â”€â”€ test_agent_optimizations.py # ä¼˜åŒ–æµ‹è¯•
â”‚
â”œâ”€â”€ scripts/                       # è„šæœ¬
â”‚   â”œâ”€â”€ create_tables_v2.sql       # V2.0å»ºè¡¨è„šæœ¬
â”‚   â””â”€â”€ migrate_v1_to_v2.py        # è¿ç§»è„šæœ¬
â”‚
â”œâ”€â”€ docs/                          # æ–‡æ¡£
â”‚   â”œâ”€â”€ ç³»ç»Ÿæ¶æ„å›¾_V2.0_2025-10-29.md â­ (æœ¬æ–‡ä»¶)
â”‚   â”œâ”€â”€ V2.0å®Œæ•´æµ‹è¯•æŒ‡å—.md
â”‚   â””â”€â”€ æ‰§è¡ŒæŠ¥å‘Š/
â”‚
â”œâ”€â”€ HKEX/                          # åŸå§‹PDFæ•°æ®
â”‚   â””â”€â”€ 00328/
â”‚
â””â”€â”€ pyproject.toml                 # é¡¹ç›®é…ç½®
```

---

## ğŸ”‘ å…³é”®æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| **Agentç¼–æ’** | LangGraph | çŠ¶æ€æœºå·¥ä½œæµ |
| **LLM** | SiliconFlow (DeepSeek) | ä¸»æ¨¡å‹æä¾›å•† |
|  | OpenAI (GPT-4o) | å¤‡ç”¨æä¾›å•† |
| **æ•°æ®åº“** | ClickHouse 23.8 | åˆ—å¼å­˜å‚¨ |
| **APIæ¡†æ¶** | FastAPI | REST API |
| **CLI** | Click | å‘½ä»¤è¡Œå·¥å…· |
| **é…ç½®** | YAML | é…ç½®é©±åŠ¨ |
| **æµ‹è¯•** | Pytest | å•å…ƒæµ‹è¯• |

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç®€å•æŸ¥è¯¢ï¼ˆå•æ­¥ï¼‰
```bash
hkex-agent ask "æŸ¥è¯¢00328ä¾›è‚¡æ•°æ®"
# æ‰§è¡Œæµç¨‹ï¼šPlanner(1æ­¥) â†’ query_rights_data â†’ Reflector â†’ è¿”å›
# è€—æ—¶ï¼š~5-8ç§’ âš¡
```

### æ··åˆæŸ¥è¯¢ï¼ˆ5æ­¥ï¼‰
```bash
hkex-agent ask "00328æœ€æ–°ä¾›è‚¡å…¬å‘Šå†…å®¹æ‘˜è¦"
# æ‰§è¡Œæµç¨‹ï¼š
#   1ï¸âƒ£ get_current_time
#   2ï¸âƒ£ query_rights_data (ç»“æ„åŒ–)
#   3ï¸âƒ£ search_documents (doc_id)
#   4ï¸âƒ£ retrieve_chunks (åŸæ–‡)
#   5ï¸âƒ£ synthesize_chunks (æ‘˜è¦)
# è€—æ—¶ï¼š~25-40ç§’
```

### å¯¹æ¯”æŸ¥è¯¢ï¼ˆå¤šæ­¥ï¼‰
```bash
hkex-agent ask "å¯¹æ¯”è…¾è®¯å’Œé˜¿é‡Œæœ€è¿‘é…å”®æ¡æ¬¾"
# æ‰§è¡Œæµç¨‹ï¼š
#   1ï¸âƒ£ query_placing_data(00700.hk)
#   2ï¸âƒ£ query_placing_data(09988.hk)
#   3ï¸âƒ£ compare_data
# è€—æ—¶ï¼š~15-20ç§’
```

---

## ğŸ¯ æ¶æ„è®¾è®¡åŸåˆ™

1. **é…ç½®é©±åŠ¨** - é›¶ç¡¬ç¼–ç ï¼Œæ‰€æœ‰è¡Œä¸ºå¯é…ç½®
2. **å±‚æ¬¡æ¸…æ™°** - ç”¨æˆ·å±‚â†’Agentå±‚â†’å·¥å…·å±‚â†’æ•°æ®å±‚
3. **ç‹¬ç«‹éš”ç¦»** - V1.0/V2.0æ•°æ®å®Œå…¨éš”ç¦»
4. **å¯æ‰©å±•æ€§** - æ–°æ–‡æ¡£ç±»å‹/å·¥å…·/Agentæ˜“äºæ·»åŠ 
5. **æ€§èƒ½ä¼˜å…ˆ** - å¿«é€Ÿå“åº”ï¼Œå‡å°‘ä¸å¿…è¦çš„ä¸­é—´æ­¥éª¤ âš¡
6. **å®¹é”™å¥å£®** - ä¸»å¤‡åˆ‡æ¢ã€é”™è¯¯é‡è¯•ã€é™çº§ç­–ç•¥
7. **å¯è§‚æµ‹æ€§** - æ—¥å¿—ã€ç›‘æ§ã€æ€§èƒ½åˆ†æ

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [CLAUDE.md](../CLAUDE.md) - å¼€å‘æŒ‡å—
- [V2.0å®Œæ•´æµ‹è¯•æŒ‡å—.md](V2.0å®Œæ•´æµ‹è¯•æŒ‡å—.md)
- [V1.0åˆ°V2.0è¿ç§»æŒ‡å—.md](V1.0åˆ°V2.0è¿ç§»æŒ‡å—.md)
- [æ‰§è¡ŒæŠ¥å‘Š/2025-10-29_åæ€å­¦ä¹ èƒ½åŠ›å¢å¼ºæŠ¥å‘Š.md](æ‰§è¡ŒæŠ¥å‘Š/2025-10-29_åæ€å­¦ä¹ èƒ½åŠ›å¢å¼ºæŠ¥å‘Š.md)
- [æ‰§è¡ŒæŠ¥å‘Š/2025-10-28_V2.0çœŸå®æ•°æ®åº“é›†æˆæµ‹è¯•æŠ¥å‘Š.md](æ‰§è¡ŒæŠ¥å‘Š/2025-10-28_V2.0çœŸå®æ•°æ®åº“é›†æˆæµ‹è¯•æŠ¥å‘Š.md)

---

**ç‰ˆæœ¬å†å²**ï¼š
- V1.0 (2025-10-25): åˆå§‹ç‰ˆæœ¬ï¼Œå›ºå®šåˆ‡å—
- V2.0 (2025-10-28): é…ç½®é©±åŠ¨ + ç« èŠ‚çº§åˆ‡åˆ†
- V2.0.1 (2025-10-29): stock_codeæ ¼å¼ä¿®å¤ + æ€§èƒ½ä¼˜åŒ– ğŸš€

**å½“å‰çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

